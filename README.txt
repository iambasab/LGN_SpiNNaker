#######
ACTION SEQUENCE FOR GENERATING DATA USING THE SCRIPTS IN THIS FOLDER
#########

(A) The main script is: SysManCyberB_Tonic_Design_September16.py
This will hereafter be referred to as the MS.

The data that will be generated by executing the script will be stored in a folder in this directory. The naming convention of the folder is as follows:

Sim<N>_<F>hz_0916,
where N stands for the serial number of the simulation depending on what combination of p1 (trn to tcr connectivity) and p2 (in to tcr connectivity) are set to in the MS (see above for acronym).;
and F stands for what is the frequency of the external (retinal) input.

Thus, depending on what the settings are in the MS, N and F need to be modified within MS prior to each simulation run, each of which will generate 20 sets of data for each population recording the membrane potentials; another 20 sets of data for each population recording the spike patterns.

Furthermore, the connectivity matrices for each of the 20 simulations and beween each of the total of 7 connectivities in the network will be generated as .csv files with a naming convention thus:
thisloop<L>_thisproj<projnum>.csv
where L is the number of loops, which will be all numbers beween and including 1 and 20; 
and projnum refers to the projection number (see the MS where each of the 7 projections in the network are numbered from 0 to 6).
Each of the .csv files stores the projections as a 2-D matrix that can be called directly from within MS Excel or from within Matlab, and thus can be plotted or visualised easily.

(B) All the thisloop<L>_thisproj<projnum>.csv files will be generated in the present directory, and thus would need to be moved to the Sim<N>_<F>hz_0916 directory corresponding to each simulation.
Thus, before proceeding to visualising data, do this on the Terminal:
(from pwd, write the following)
mv this* ./Sim<N>_<F>hz_0916/

This should move all the .csv files out of the present working directory.

(C) The spike patterns as well as the membrane potential for any one simulation can be seen by executing the script
VisualisingThalamicPopNtwrkSpkngBehaviour.py
This will prompt for a user input for number <L> between 1 to 20.
Put any number and press enter; the results of simulation during the <L>th loop run of the MS will be displayed - both spike patterns and membrane potential for each simulation can be observed.

(D) Next, we need to observe the power spectral behaviour and also able to save the figures. For this, we use Matlab. The first step towards this will be to remove the header lines from the generated .dat files and stored in the Sim<N>_<F>hz_0916 folder.
This is done by executing the following script:
removeHeaderlines.py

This file works in two steps:
(1) inputs the data from the Sim<N>_<F>hz_0916 folder.
Thus, for working on the current data, the N and F will need to be updated accordingly.

(2) Storing the 'de-headed' .dat files to another folder:
matlabFiles/SysManCyberB_Sep16

Within this set of folders are created another two sets of folders viz.
(i) exp<F>hz,
where F is same as defined in (A).
(ii) Sim<N>
where N is same as defined in (A)

For this, I say
mkdir ~/matlabFiles/SysManCyberB_Sep16/exp<F>hz

Next, for each <F> hz, we would have 5 sets of simulations running in this particular experiments.
Thus each folder exp<F>hz will consist of 5 sets of folders Sim<N>, where N varies from 1 to 5. This can be done with a single command thus:
mkdir ~/matlabFiles/SysManCyberB_Sep16/exp<F>hz/Sim{1..5}

Once this is done, we now move to the 

(E) Matlab software, all files of which are stored within the folder matlabFiles within the current folder. The main script that we work with from within this current folder (~/matlabFiles/) is:

(F) DataVisualisationSep16.m
Three sets of variables need to be changed from within this script:

(1) Given in Lines 32-34: <population name>=<number of neurons in population>
Each of the lines are set to tally with the data set in MS to build the network. 
Do the following: Uncomment any one of the three lines.

(2) Given in Lines 50-52: The current neuronal population is set to <population name>.
Do the following: Uncomment any of the three lines corresponding to the previous step.

(3) Given in Lines 59-61 :
filename=sprintf('./SysManCyberB_Sep16/exp<F>hz/Sim<N>/<population name>_%d.dat',loop);

Do the following:
Uncomment any one of the three lines corresponding to the previous two steps;
change <F> for each change in experiment settings;
Change <N> for each run

(G) The function fun_stft.m is called from within the script DataVisualisationSep16.m
For changing the settings, open the function script in the editor and proceed accordingly.





